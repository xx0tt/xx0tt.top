(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d516693a"],{"09d7":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mybutton"},[a("el-button",{class:{disabled:t.disabled},style:t.btnStyle,attrs:{disabled:t.disabled,type:"primary",icon:t.icon},on:{click:t.clickFn}},[t._t("lastIcon"),t._t("default"),t._t("rightIcon")],2)],1)},n=[],i={name:"MyButton",data:function(){return{}},props:{icon:{type:String},btnStyle:{type:Object},disabled:{type:Boolean,default:!1}},created:function(){},methods:{clickFn:function(){this.$emit("click")}},computed:{}},r=i,o=(a("95a8"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"40b17dc2",null);e["a"]=l.exports},"0eb5":function(t,e,a){"use strict";a("0ecc")},"0ecc":function(t,e,a){},1439:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("SerchBar",{attrs:{lastInpTitle:"商品搜索"},on:{search:t.searchFn}}),a("div",{staticClass:"result"},[a("div",{staticClass:"btn-title"},[a("MyButton",{attrs:{icon:"el-icon-circle-plus-outline",btnStyle:t.addBtnStyle},on:{click:t.addFn}},[t._v(" 新建 ")]),a("AddSku",{attrs:{skuIsShow:t.skuIsShow,title:t.title,row:t.row},on:{"update:skuIsShow":function(e){t.skuIsShow=e},"update:sku-is-show":function(e){t.skuIsShow=e}}}),a("MyButton",{attrs:{btnStyle:t.dataBtnStyle},on:{click:t.dataAt}},[t._v(" 导入数据 ")]),t.dataAtIsShow?a("Dialog",{attrs:{businessIsShow:t.dataAtIsShow,title:"数据导入",width:"483px"},on:{close:t.close,cancelBtn:t.close,sureBtn:t.sureBtn}},[a("div",{staticClass:"text-add"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","before-remove":t.beforeRemove,multiple:"",limit:1,"on-exceed":t.handleExceed,"file-list":t.fileList,"before-upload":t.beforeAvatarUpload,"on-success":t.handleAvatarSuccess}},[a("div",{staticClass:"btn-title"},[a("span",[t._v("标题:")]),a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 支持扩展名:xls、xlsx,文件不得大于1M ")])])],1)]):t._e()],1),a("SkuDataList",{on:{setSku:t.setSku}})],1),a("FooterPage",{attrs:{taskList:t.skuList,lastDisabled:t.lastDisabled,rightDisabled:t.rightDisabled},on:{lastPage:t.lastPage,nextPage:t.nextPage}})],1)},n=[],i=a("c7eb"),r=a("1da1"),o=a("5530"),l=(a("99af"),a("b0c0"),a("5c57")),c=a("09d7"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.skuList.currentPageRecords,height:t.skuList.currentPageRecords&&t.skuList.currentPageRecords[0]?"528":"120",stripe:"","empty-text":"暂无数据"}},[a("el-table-column",{attrs:{label:"序号",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+1+10*(t.skuList.pageIndex-1)))])]}}])}),a("el-table-column",{attrs:{prop:"skuName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"skuImage",label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("div",{staticClass:"img"},[a("img",{attrs:{src:e.skuImage}})])]}}])}),a("el-table-column",{attrs:{prop:"brandName",label:"品牌"}}),a("el-table-column",{attrs:{prop:"unit",label:"规格"}}),a("el-table-column",{attrs:{prop:"price",formatter:t.fliterPrice,label:"商品价格"}}),a("el-table-column",{attrs:{prop:"skuClass.className",label:"商品类型"}}),a("el-table-column",{attrs:{prop:"updateTime",formatter:t.fliterTime,label:"创建日期"}}),a("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"col-text col-set",on:{click:function(a){return t.setSku(e.row)}}},[t._v(" 修改 ")])]}}])})],1)},d=[],m=a("5a0c"),p=a.n(m),f=a("2f62"),b={name:"SkuDataList",data:function(){return{}},created:function(){},methods:{fliterPrice:function(t){return"￥"+t.price/100},fliterTime:function(t){return p()(t.updateTime).format("YYYY-MM-DD mm.hh.ss")},setSku:function(t){this.$emit("setSku",t)}},computed:Object(o["a"])({},Object(f["e"])("sku",["skuList"])),props:{}},h=b,g=(a("ddb8"),a("2877")),k=Object(g["a"])(h,u,d,!1,null,"3901854c",null),S=k.exports,y=a("3d7a"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Dialog",{attrs:{businessIsShow:t.skuIsShow,title:t.title},on:{close:t.close,cancelBtn:t.close,sureBtn:t.sureBtn,open:t.open}},[a("el-form",{ref:"ruleForm",attrs:{"label-position":"right","label-width":"auto",model:t.myData,rules:t.rules}},[a("el-form-item",{attrs:{label:"商品名称:",prop:"skuName"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",maxlength:"15","show-word-limit":""},model:{value:t.myData.skuName,callback:function(e){t.$set(t.myData,"skuName",e)},expression:"myData.skuName"}})],1),a("el-form-item",{attrs:{label:"品牌:",prop:"brandName"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:t.myData.brandName,callback:function(e){t.$set(t.myData,"brandName",e)},expression:"myData.brandName"}})],1),a("el-form-item",{attrs:{label:"商品价格(元):",prop:"price"}},[a("el-input-number",{attrs:{placeholder:"请输入","controls-position":"right",precision:2,step:.01,min:.01,max:9999.99},model:{value:t.myData.price,callback:function(e){t.$set(t.myData,"price",e)},expression:"myData.price"}})],1),a("el-form-item",{attrs:{label:"商品类型:",prop:"classId"}},[a("el-select",{attrs:{placeholder:"请选择","no-data-text":"暂无数据"},model:{value:t.myData.classId,callback:function(e){t.$set(t.myData,"classId",e)},expression:"myData.classId"}},t._l(t.classSkuList,(function(t){return a("el-option",{key:t.classId,attrs:{label:t.className,value:t.classId}})})),1)],1),a("el-form-item",{attrs:{label:"规格:",prop:"unit"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:t.myData.unit,callback:function(e){t.$set(t.myData,"unit",e)},expression:"myData.unit"}})],1),a("el-form-item",{attrs:{label:"商品图片:",prop:"skuImage"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"list-type":"picture-card",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.myData.skuImage?a("img",{staticClass:"avatar",attrs:{src:t.myData.skuImage}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("div",{staticClass:"text"},[t._v("支持扩展名:jpg、png,文件不得大于100kb")])],1)},w=[],_=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("9039")),x=a("e090"),I=a("2f61"),B={name:"AddSku",data:function(){return{myData:{skuName:"",skuImage:"",price:"",classId:"",unit:"",brandName:""},rules:{skuName:[{required:!0,message:"请输入商品名称",trigger:"blur"}],skuImage:[{required:!0,message:"请上传商品图片",trigger:"blur"}],price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],classId:[{required:!0,message:"请输入商品类型",trigger:"blur"}],unit:[{required:!0,message:"请输入商品规格",trigger:"change"}],brandName:[{required:!0,message:"请输入品牌名",trigger:"blur"}]},classSkuList:[]}},created:function(){},methods:Object(o["a"])(Object(o["a"])({handleAvatarSuccess:function(t,e){this.myData.skuImage=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){console.log(t);var e="image/jpeg"===t.type,a=t.size/1024<100;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 100KB!"),e&&a},open:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.classSkuList[0]){e.next=4;break}return e.next=3,Object(x["d"])({pageSize:1e4});case 3:t.classSkuList=e.sent.currentPageRecords;case 4:case"end":return e.stop()}}),e)})))()},sureBtn:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.ruleForm.validate();case 3:if(!t.myData.skuId){e.next=9;break}return e.next=6,Object(I["d"])(t.myData);case 6:t.$message.success("修改成功"),e.next=12;break;case 9:return e.next=11,Object(I["a"])(t.myData);case 11:t.$message.success("添加成功");case 12:t.SET_PARAMS_SKU_NAME(),t.getSkuListFn(t.params),t.close(),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),null!==e.t0&&void 0!==e.t0&&null!==(a=e.t0.response)&&void 0!==a&&a.data&&t.$message.error(e.t0.response.data);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()},close:function(){this.$refs.ruleForm.resetFields(),this.$emit("update:skuIsShow",!1),this.$emit("update:title","新增商品"),this.myData={skuName:"",skuImage:"",price:"",classId:"",unit:"",brandName:""}}},Object(f["b"])("sku",["getSkuListFn"])),Object(f["d"])("sku",["SET_PARAMS_SKU_NAME"])),computed:Object(o["a"])({},Object(f["e"])("sku",["params"])),components:{Dialog:_["a"]},props:{skuIsShow:{type:Boolean,default:!1},title:{type:String,default:"新增商品"},row:{type:Object}},watch:{row:function(){console.log(this.row),this.myData={skuId:this.row.skuId,skuName:this.row.skuName,skuImage:this.row.skuImage,price:this.row.price,classId:this.row.skuClass.classId,unit:this.row.unit,brandName:this.row.brandName}}}},D=B,j=(a("d5bb"),Object(g["a"])(D,v,w,!1,null,"70813884",null)),O=j.exports,$={name:"Sku",data:function(){return{addBtnStyle:{background:"linear-gradient(135deg,#ff9743,#ff5e20)"},dataBtnStyle:{background:"#fbf4f0",color:"#655b56"},skuIsShow:!1,title:"新增商品",row:{},dataAtIsShow:!1,fileList:[],fileName:""}},created:function(){this.getSkuListFn(this.params)},methods:Object(o["a"])(Object(o["a"])({sureBtn:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.fileName){e.next=11;break}return e.next=4,Object(I["b"])(t.fileName);case 4:t.$message.success("上传成功"),t.fileName="",t.dataAtIsShow=!1,t.SET_PAGE_INDEX(),t.getSkuListFn(t.params),e.next=12;break;case 11:t.$message.error("暂无可用文件");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),t.$message.error(e.t0.response.data);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},handleAvatarSuccess:function(t,e){var a=new FormData;a.append("fileName",e.raw),this.fileName=a},beforeAvatarUpload:function(t){var e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type||"application/vnd.ms-excel"===t.type,a=t.size/1024/1024<1;return e||this.$message.error("支持扩展名必须为xls、xlsx"),a||this.$message.error("上传头像图片大小不能超过 1MB!"),a&&e},handleExceed:function(t,e){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"?"))},dataAt:function(){this.dataAtIsShow=!0},close:function(){this.dataAtIsShow=!1},setSku:function(t){this.skuIsShow=!0,this.title="修改商品",this.row=t},addFn:function(){this.skuIsShow=!0},lastPage:function(){this.SET_PAGE_INDEX(-1),this.getSkuListFn(this.params)},nextPage:function(){this.SET_PAGE_INDEX(1),this.getSkuListFn(this.params)},searchFn:function(t){this.SET_PARAMS_SKU_NAME(t),this.getSkuListFn(this.params)}},Object(f["b"])("sku",["getSkuListFn"])),Object(f["d"])("sku",["SET_PARAMS_SKU_NAME","SET_PAGE_INDEX"])),computed:Object(o["a"])(Object(o["a"])({},Object(f["e"])("sku",["loading","skuList","params"])),Object(f["c"])("sku",["lastDisabled","rightDisabled"])),components:{SerchBar:l["a"],MyButton:c["a"],SkuDataList:S,FooterPage:y["a"],AddSku:O,Dialog:_["a"]}},N=$,A=(a("edc3"),Object(g["a"])(N,s,n,!1,null,"2b6d3128",null));e["default"]=A.exports},"15d8":function(t,e,a){},"1f99":function(t,e,a){},"3c64":function(t,e,a){},"3d7a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.listIsShow?t._e():a("div",{staticClass:"total"},[!1===t.lastDisabled||!1===t.rightDisabled?[a("span",[t._v("共"+t._s(t.taskList.totalCount)+"条数据 第"+t._s(t.taskList.pageIndex)+"/ "+t._s(Math.ceil(t.taskList.totalCount/10))+"页")]),a("div",{staticClass:"page-button"},[a("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.lastDisabled},on:{click:t.lastPage}},[t._v("上一页 ")]),a("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.rightDisabled},on:{click:t.nextPage}},[t._v("下一页 ")])],1)]:t._e()],2)},n=[],i=a("09d7"),r={name:"FooterPage",data:function(){return{pageBtnStyle:{background:"#d5ddf8",width:"70px",height:"32px",color:"#000",fontWeight:"400",marginLeft:"25px"}}},props:{listIsShow:{type:Boolean},taskList:{type:Object},lastDisabled:{type:Boolean},rightDisabled:{type:Boolean}},created:function(){},methods:{lastPage:function(){this.$emit("lastPage")},nextPage:function(){this.$emit("nextPage")}},computed:{},components:{MyButton:i["a"]}},o=r,l=(a("0eb5"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,"1154a776",null);e["a"]=c.exports},"4c68":function(t,e,a){"use strict";a("1f99")},"4ff3":function(t,e,a){"use strict";a("3c64")},"5c57":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:t.lastInpTitle+":"}},[a("el-input",{ref:"lastInput",attrs:{placeholder:"请输入",clearable:""},model:{value:t.taskCode,callback:function(e){t.taskCode=e},expression:"taskCode"}})],1),t.rightInpTitle?a("el-form-item",{attrs:{label:t.rightInpTitle+":"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:!0},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.typeList,(function(t){return a("el-option",{key:t.statusId,attrs:{label:t.statusName,value:t.statusId}})})),1)],1):t._e(),a("el-form-item",[a("MyButton",{attrs:{icon:"el-icon-search",btnStyle:t.searchButStyle},on:{click:t.searchBtnFn}},[t._v(" 查询 ")])],1)],1)],1)},n=[],i=a("09d7"),r={name:"SearchBar",data:function(){return{taskCode:"",status:"",searchButStyle:{background:"#5f84ff"}}},props:{lastInpTitle:{type:String},rightInpTitle:{type:String},typeList:{type:Array}},created:function(){},methods:{searchBtnFn:function(){this.$emit("search",this.taskCode,this.status)}},computed:{},components:{MyButton:i["a"]}},o=r,l=(a("4ff3"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,"3cb6acbc",null);e["a"]=c.exports},"7fd4":function(t,e,a){},9039:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.isShow,width:t.width,"destroy-on-close":t.isDestroy},on:{"update:visible":function(e){t.isShow=e},close:t.close,open:t.open}},[t._t("default"),t.isInfoDialog?a("div",{staticClass:"bottom-btn"},[a("MyButton",{attrs:{btnStyle:t.infoStyle},on:{click:t.infoBtn}},[t._v("重新创建")])],1):t._e(),t.removeDialog?a("div",{staticClass:"bottom-btn"},[a("MyButton",{attrs:{btnStyle:t.infoStyle},on:{click:t.removeBtn}},[t._v("取消工单")])],1):t._e(),t.twoBtn?a("div",{staticClass:"bottom-btn"},[a("MyButton",{attrs:{btnStyle:t.cancelStyle},on:{click:t.cancelBtn}},[t._v("取 消 ")]),a("MyButton",{attrs:{btnStyle:t.sureStyle},on:{click:t.sureBtn}},[t._v("确 定 ")])],1):t._e()],2)},n=[],i=a("09d7"),r={name:"Dialog",data:function(){return{isShow:"",cancelStyle:{background:"#fbf4f0",color:"#655b56"},sureStyle:{background:"linear-gradient(135deg,#ff9743,#ff5e20)",color:"#fff",marginLeft:"24px"},infoStyle:{background:"#fbf4f0",color:"#655b56"}}},props:{businessIsShow:{typeof:Boolean,default:!1},title:{typeof:String},isInfoDialog:{type:Boolean,default:!1},twoBtn:{type:Boolean,default:!0},removeDialog:{type:Boolean,default:!1},isDestroy:{type:Boolean,default:!1},width:{typeof:String,default:"630px"}},created:function(){},methods:{cancelBtn:function(){this.$emit("cancelBtn")},sureBtn:function(){this.$emit("sureBtn")},open:function(){this.$emit("open")},close:function(){this.$emit("close")},infoBtn:function(){this.$emit("infoBtn")},removeBtn:function(){this.$emit("removeBtn")}},computed:{},watch:{businessIsShow:{immediate:!0,handler:function(){this.isShow=this.businessIsShow}}},components:{MyButton:i["a"]}},o=r,l=(a("4c68"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,"023d4138",null);e["a"]=c.exports},"95a8":function(t,e,a){"use strict";a("15d8")},9940:function(t,e,a){},d5bb:function(t,e,a){"use strict";a("9940")},ddb8:function(t,e,a){"use strict";a("7fd4")},e090:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return o}));var s=a("b775"),n=function(t){return Object(s["a"])({url:"/api/vm-service/skuClass/search",method:"GET",params:t})},i=function(t){return Object(s["a"])({url:"/api/vm-service/skuClass",method:"POST",data:{className:t}})},r=function(t){return Object(s["a"])({url:"/api/vm-service/skuClass/"+t.classId,method:"PUT",data:t})},o=function(t){return Object(s["a"])({url:"/api/vm-service/skuClass/"+t,method:"DELETE"})}},edc3:function(t,e,a){"use strict";a("f0f4")},f0f4:function(t,e,a){}}]);