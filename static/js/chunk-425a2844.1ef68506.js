(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-425a2844"],{"09d7":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mybutton"},[n("el-button",{class:{disabled:t.disabled},style:t.btnStyle,attrs:{disabled:t.disabled,type:"primary",icon:t.icon},on:{click:t.clickFn}},[t._t("lastIcon"),t._t("default"),t._t("rightIcon")],2)],1)},r=[],s={name:"MyButton",data:function(){return{}},props:{icon:{type:String},btnStyle:{type:Object},disabled:{type:Boolean,default:!1}},created:function(){},methods:{clickFn:function(){this.$emit("click")}},computed:{}},i=s,o=(n("95a8"),n("2877")),c=Object(o["a"])(i,a,r,!1,null,"40b17dc2",null);e["a"]=c.exports},"0eb5":function(t,e,n){"use strict";n("0ecc")},"0ecc":function(t,e,n){},"15d8":function(t,e,n){},2909:function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function r(t){if(Array.isArray(t))return a(t)}n.d(e,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n("fb6a"),n("b0c0"),n("ac1f"),n("00b4");function i(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||s(t)||i(t)||o()}},3661:function(t,e,n){},"3d7a":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.listIsShow?t._e():n("div",{staticClass:"total"},[!1===t.lastDisabled||!1===t.rightDisabled?[n("span",[t._v("共"+t._s(t.taskList.totalCount)+"条数据 第"+t._s(t.taskList.pageIndex)+"/ "+t._s(Math.ceil(t.taskList.totalCount/10))+"页")]),n("div",{staticClass:"page-button"},[n("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.lastDisabled},on:{click:t.lastPage}},[t._v("上一页 ")]),n("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.rightDisabled},on:{click:t.nextPage}},[t._v("下一页 ")])],1)]:t._e()],2)},r=[],s=n("09d7"),i={name:"FooterPage",data:function(){return{pageBtnStyle:{background:"#d5ddf8",width:"70px",height:"32px",color:"#000",fontWeight:"400",marginLeft:"25px"}}},props:{listIsShow:{type:Boolean},taskList:{type:Object},lastDisabled:{type:Boolean},rightDisabled:{type:Boolean}},created:function(){},methods:{lastPage:function(){this.$emit("lastPage")},nextPage:function(){this.$emit("nextPage")}},computed:{},components:{MyButton:s["a"]}},o=i,c=(n("0eb5"),n("2877")),l=Object(c["a"])(o,a,r,!1,null,"1154a776",null);e["a"]=l.exports},"4e5f":function(t,e,n){},"71ff":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"topTitle"},[n("div",{staticClass:"leftTitle"},[n("p",[t._v("日销售统计")]),n("div",{staticClass:"boxLeft"},[n("div",[t._v(" "+t._s(t.nowDayOrderCount)+" "),n("p",[t._v("当日销售量 (个)")])]),n("div",[t._v(" "+t._s(t.nowDayOrderMoney)+" "),n("p",[t._v("当日销售额 (元)")])]),n("div",[t._v(" "+t._s(t.nowDayOrderDivide)+" "),n("p",[t._v("当日分成 (元)")])])])]),n("div",{staticClass:"rightTitle"},[n("p",[t._v("月销售统计")]),n("div",{staticClass:"boxRight"},[n("div",[t._v(" "+t._s(t.nowMonthOrderCount)+" "),n("p",[t._v("当月销售量 (个)")])]),n("div",[t._v(" "+t._s(t.nowMonthOrderMoney)+" "),n("p",[t._v("当月销售額 (万元)")])]),n("div",[t._v(" "+t._s(t.nowMonthOrderDivide)+" "),n("p",[t._v("当月分成 (元)")])])])])]),n("div",{staticClass:"manBox"},[n("ReportSearch",{attrs:{lastInpTitle:"合作商",dateInput:"true",dateTitle:"日期",typeList:t.partnersList.currentPageRecords},on:{search:t.searchFn}}),n("div",{staticClass:"mainMiddle"},[n("div",[t._v(" 笔数统计:"),n("span",[t._v(t._s(t.nowMonthOrderCountNext))]),t._v("个 ")]),n("div",[t._v(" 收入统计:"),n("span",[t._v(t._s(t.nowMonthOrderMoneyNext))]),t._v("元 ")]),n("div",[t._v(" 分成统计:"),n("span",[t._v(t._s(t.nowMonthOrderDivideNext))]),t._v("元 ")])]),n("div",{staticClass:"mainBottom"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{size:"medium",data:t.partnerNameList.currentPageRecords,"highlight-current-row":"",fit:""}},[n("el-table-column",{attrs:{property:"date",label:"订单日期"}}),n("el-table-column",{attrs:{property:"ownerName",label:"合作商"}}),n("el-table-column",{attrs:{property:"ratio",label:"分成比例"}}),n("el-table-column",{attrs:{property:"orderTotalMoney",label:"收入(元)"}}),n("el-table-column",{attrs:{property:"orderCount",label:"笔数"}}),n("el-table-column",{attrs:{property:"totalBill",label:"分成金额(元)"}})],1),t.partnerNameList.totalCount?n("FooterPage",{attrs:{listIsShow:t.listIsShow,taskList:t.partnerNameList,lastDisabled:t.lastDisabled,rightDisabled:t.rightDisabled},on:{lastPage:t.getLastTaskService,nextPage:t.getNextTaskService}}):t._e()],1)],1)])},r=[],s=n("2909"),i=n("5530"),o=n("c7eb"),c=n("1da1"),l=(n("b680"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",{attrs:{label:t.lastInpTitle+": "}},[n("el-select",{attrs:{placeholder:"请选择",clearable:!0},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.typeList,(function(t){return n("el-option",{key:t.statusId,attrs:{label:t.name,value:t.id}})})),1)],1),t.dateInput?n("el-form-item",{attrs:{label:t.dateTitle+": "}},[n("el-date-picker",{staticStyle:{width:"410px"},attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions,"default-time":["00:00:00","23:59:59"]},model:{value:t.timeValue,callback:function(e){t.timeValue=t._n(e)},expression:"timeValue"}},[t._v(" > ")])],1):t._e(),n("el-form-item",[n("MyButton",{attrs:{icon:"el-icon-search",btnStyle:t.searchButStyle},on:{click:t.searchBtnFn}},[t._v(" 查询 ")])],1)],1)],1)}),d=[],u=n("09d7"),p=n("5a0c"),m=n.n(p),h={name:"MyOrderSearch",data:function(){return{status:"",timeValue:[m()().startOf("month").$d,m()().$d],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},searchButStyle:{background:"#5f84ff"}}},props:{lastInpTitle:{type:String},dateInput:{type:[String,Boolean]},dateTitle:{type:String},typeList:{type:Array}},created:function(){},methods:{searchBtnFn:function(){this.$emit("search",[this.status,this.timeValue])}},computed:{},components:{MyButton:u["a"]}},f=h,b=(n("9979"),n("2877")),v=Object(b["a"])(f,l,d,!1,null,"51f9c1c6",null),y=v.exports,O=n("2f62"),g=n("3d7a"),M=n("1c31"),w={name:"report",data:function(){return{startTime:m()().startOf("month").format("YYYY-MM-DD"),endTime:m()().format("YYYY-MM-DD"),dayTimeNext:[m()().startOf("day").format("YYYY-MM-DD HH:mm:ss"),m()().format("YYYY-MM-DD HH:mm:ss")],monthTimeNext:[m()().startOf("month").format("YYYY-MM-DD HH:mm:ss"),m()().format("YYYY-MM-DD HH:mm:ss")],nowDayOrderCount:"",nowMonthOrderCount:"",nowMonthOrderCountNext:"",nowDayOrderDivide:"",nowMonthOrderDivide:"",nowMonthOrderDivideNext:"",nowDayOrderMoney:"",nowMonthOrderMoney:"",nowMonthOrderMoneyNext:"",oneStartTime:"",oneEndTime:"",page:1,searchVal:"",loading:!1}},components:{ReportSearch:y,FooterPage:g["a"]},created:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.setPartnersList([t.page,1e4]);case 3:return e.next=5,t.setPartnerNameList([t.startTime,t.endTime,t.page,10]);case 5:t.loading=!1,t.getNowOrders(),t.getDivideOrders(),t.getMoneyOrders();case 9:case"end":return e.stop()}}),e)})))()},methods:Object(i["a"])(Object(i["a"])({},Object(O["b"])("report",["setPartnersList","setPartnerNameList"])),{},{searchFn:function(t){var e=this;return Object(c["a"])(Object(o["a"])().mark((function n(){return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,t[0]!==e.searchVal[0]&&(e.page=1),e.searchVal=t,e.oneStartTime=t[1][0],e.oneEndTime=t[1][1],n.next=7,Object(M["a"])(m()(t[1][0]).format("YYYY-MM-DD HH:mm:ss"),m()(t[1][1]).format("YYYY-MM-DD HH:mm:ss"),t[0]);case 7:return e.nowMonthOrderCountNext=n.sent,n.next=10,Object(M["b"])(m()(t[1][0]).format("YYYY-MM-DD HH:mm:ss"),m()(t[1][1]).format("YYYY-MM-DD HH:mm:ss"),t[0]);case 10:return n.t0=n.sent,e.nowMonthOrderDivideNext=n.t0/100,n.next=14,Object(M["c"])(m()(t[1][0]).format("YYYY-MM-DD HH:mm:ss"),m()(t[1][1]).format("YYYY-MM-DD HH:mm:ss"),t[0]);case 14:n.t1=n.sent,e.nowMonthOrderMoneyNext=n.t1/100,e.setPartnerNameList([m()(t[1][0]).format("YYYY-MM-DD"),m()(t[1][1]).format("YYYY-MM-DD"),e.page,10,t[0]]),e.loading=!1;case 18:case"end":return n.stop()}}),n)})))()},getNowOrders:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].apply(void 0,Object(s["a"])(t.dayTimeNext));case 2:return t.nowDayOrderCount=e.sent,e.next=5,M["a"].apply(void 0,Object(s["a"])(t.monthTimeNext));case 5:t.nowMonthOrderCount=e.sent,t.nowMonthOrderCountNext=t.nowMonthOrderCount;case 7:case"end":return e.stop()}}),e)})))()},getDivideOrders:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["b"].apply(void 0,Object(s["a"])(t.dayTimeNext));case 2:return e.t0=e.sent,t.nowDayOrderDivide=e.t0/100,e.next=6,M["b"].apply(void 0,Object(s["a"])(t.monthTimeNext));case 6:e.t1=e.sent,t.nowMonthOrderDivide=e.t1/100,t.nowMonthOrderDivideNext=t.nowMonthOrderDivide;case 9:case"end":return e.stop()}}),e)})))()},getMoneyOrders:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["c"].apply(void 0,Object(s["a"])(t.dayTimeNext));case 2:return e.t0=e.sent,t.nowDayOrderMoney=e.t0/100,e.next=6,M["c"].apply(void 0,Object(s["a"])(t.monthTimeNext));case 6:n=e.sent,t.nowMonthOrderMoney=n?(n/1e6).toFixed(2):0,t.nowMonthOrderMoneyNext=n/100;case 9:case"end":return e.stop()}}),e)})))()},getLastTaskService:function(){this.page--,this.searchFn(this.searchVal)},getNextTaskService:function(){this.page++,this.searchFn(this.searchVal)}}),computed:Object(i["a"])(Object(i["a"])({},Object(O["c"])(["partnersList","partnerNameList"])),{},{listIsShow:function(){var t;return!(null!==(t=this.partnerNameList.currentPageRecords)&&void 0!==t&&t[0])},lastDisabled:function(){return this.partnerNameList.pageIndex<=1},rightDisabled:function(){return this.partnerNameList.pageIndex==this.partnerNameList.totalPage}})},D=w,x=(n("bd91"),Object(b["a"])(D,a,r,!1,null,"abc27ef0",null));e["default"]=x.exports},"95a8":function(t,e,n){"use strict";n("15d8")},9979:function(t,e,n){"use strict";n("3661")},bd91:function(t,e,n){"use strict";n("4e5f")}}]);