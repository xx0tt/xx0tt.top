(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-737b6145"],{"09d7":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mybutton"},[s("el-button",{class:{disabled:t.disabled},style:t.btnStyle,attrs:{disabled:t.disabled,type:"primary",icon:t.icon},on:{click:t.clickFn}},[t._t("lastIcon"),t._t("default"),t._t("rightIcon")],2)],1)},a=[],o={name:"MyButton",data:function(){return{}},props:{icon:{type:String},btnStyle:{type:Object},disabled:{type:Boolean,default:!1}},created:function(){},methods:{clickFn:function(){this.$emit("click")}},computed:{}},i=o,l=(s("95a8"),s("2877")),c=Object(l["a"])(i,n,a,!1,null,"40b17dc2",null);e["a"]=c.exports},"0eb5":function(t,e,s){"use strict";s("0ecc")},"0ecc":function(t,e,s){},"15d8":function(t,e,s){},"1f99":function(t,e,s){},"3c64":function(t,e,s){},"3d7a":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.listIsShow?t._e():s("div",{staticClass:"total"},[!1===t.lastDisabled||!1===t.rightDisabled?[s("span",[t._v("共"+t._s(t.taskList.totalCount)+"条数据 第"+t._s(t.taskList.pageIndex)+"/ "+t._s(Math.ceil(t.taskList.totalCount/10))+"页")]),s("div",{staticClass:"page-button"},[s("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.lastDisabled},on:{click:t.lastPage}},[t._v("上一页 ")]),s("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.rightDisabled},on:{click:t.nextPage}},[t._v("下一页 ")])],1)]:t._e()],2)},a=[],o=s("09d7"),i={name:"FooterPage",data:function(){return{pageBtnStyle:{background:"#d5ddf8",width:"70px",height:"32px",color:"#000",fontWeight:"400",marginLeft:"25px"}}},props:{listIsShow:{type:Boolean},taskList:{type:Object},lastDisabled:{type:Boolean},rightDisabled:{type:Boolean}},created:function(){},methods:{lastPage:function(){this.$emit("lastPage")},nextPage:function(){this.$emit("nextPage")}},computed:{},components:{MyButton:o["a"]}},l=i,c=(s("0eb5"),s("2877")),r=Object(c["a"])(l,n,a,!1,null,"1154a776",null);e["a"]=r.exports},"4c68":function(t,e,s){"use strict";s("1f99")},"4ff3":function(t,e,s){"use strict";s("3c64")},"5c57":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[s("el-form-item",{attrs:{label:t.lastInpTitle+":"}},[s("el-input",{ref:"lastInput",attrs:{placeholder:"请输入",clearable:""},model:{value:t.taskCode,callback:function(e){t.taskCode=e},expression:"taskCode"}})],1),t.rightInpTitle?s("el-form-item",{attrs:{label:t.rightInpTitle+":"}},[s("el-select",{attrs:{placeholder:"请选择",clearable:!0},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.typeList,(function(t){return s("el-option",{key:t.statusId,attrs:{label:t.statusName,value:t.statusId}})})),1)],1):t._e(),s("el-form-item",[s("MyButton",{attrs:{icon:"el-icon-search",btnStyle:t.searchButStyle},on:{click:t.searchBtnFn}},[t._v(" 查询 ")])],1)],1)],1)},a=[],o=s("09d7"),i={name:"SearchBar",data:function(){return{taskCode:"",status:"",searchButStyle:{background:"#5f84ff"}}},props:{lastInpTitle:{type:String},rightInpTitle:{type:String},typeList:{type:Array}},created:function(){},methods:{searchBtnFn:function(){this.$emit("search",this.taskCode,this.status)}},computed:{},components:{MyButton:o["a"]}},l=i,c=(s("4ff3"),s("2877")),r=Object(c["a"])(l,n,a,!1,null,"3cb6acbc",null);e["a"]=r.exports},9039:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{title:t.title,visible:t.isShow,width:t.width,"destroy-on-close":t.isDestroy},on:{"update:visible":function(e){t.isShow=e},close:t.close,open:t.open}},[t._t("default"),t.isInfoDialog?s("div",{staticClass:"bottom-btn"},[s("MyButton",{attrs:{btnStyle:t.infoStyle},on:{click:t.infoBtn}},[t._v("重新创建")])],1):t._e(),t.removeDialog?s("div",{staticClass:"bottom-btn"},[s("MyButton",{attrs:{btnStyle:t.infoStyle},on:{click:t.removeBtn}},[t._v("取消工单")])],1):t._e(),t.twoBtn?s("div",{staticClass:"bottom-btn"},[s("MyButton",{attrs:{btnStyle:t.cancelStyle},on:{click:t.cancelBtn}},[t._v("取 消 ")]),s("MyButton",{attrs:{btnStyle:t.sureStyle},on:{click:t.sureBtn}},[t._v("确 定 ")])],1):t._e()],2)},a=[],o=s("09d7"),i={name:"Dialog",data:function(){return{isShow:"",cancelStyle:{background:"#fbf4f0",color:"#655b56"},sureStyle:{background:"linear-gradient(135deg,#ff9743,#ff5e20)",color:"#fff",marginLeft:"24px"},infoStyle:{background:"#fbf4f0",color:"#655b56"}}},props:{businessIsShow:{typeof:Boolean,default:!1},title:{typeof:String},isInfoDialog:{type:Boolean,default:!1},twoBtn:{type:Boolean,default:!0},removeDialog:{type:Boolean,default:!1},isDestroy:{type:Boolean,default:!1},width:{typeof:String,default:"630px"}},created:function(){},methods:{cancelBtn:function(){this.$emit("cancelBtn")},sureBtn:function(){this.$emit("sureBtn")},open:function(){this.$emit("open")},close:function(){this.$emit("close")},infoBtn:function(){this.$emit("infoBtn")},removeBtn:function(){this.$emit("removeBtn")}},computed:{},watch:{businessIsShow:{immediate:!0,handler:function(){this.isShow=this.businessIsShow}}},components:{MyButton:o["a"]}},l=i,c=(s("4c68"),s("2877")),r=Object(c["a"])(l,n,a,!1,null,"023d4138",null);e["a"]=r.exports},"95a8":function(t,e,s){"use strict";s("15d8")},a5f6:function(t,e,s){"use strict";s("e77c")},a67d:function(t,e,s){},ac34:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("SearchBar",{attrs:{lastInpTitle:"设备编号"},on:{search:t.searchBtn}}),s("div",{staticClass:"result"},[s("vmTable",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{businessIsShow:t.businessIsShow},on:{"update:businessIsShow":function(e){t.businessIsShow=e},"update:business-is-show":function(e){t.businessIsShow=e}}}),s("Dialog",{attrs:{businessIsShow:t.businessIsShow,title:"设备详情",twoBtn:!1},on:{close:t.closeDialog}},[s("div",{staticClass:"vm-dia"},[s("div",{staticClass:"title"},[s("li",[t._v(" 销售量："),s("span",[t._v(t._s(t.orderCount)+" 个")])]),s("li",[t._v(" 销售额："),s("span",[t._v(t._s(t.myorderAmount)+" 元")])]),s("li",[t._v(" 补货次数："),s("span",[t._v(t._s(t.supplyCount)+" 次")])]),s("li",[t._v(" 维修次数："),s("span",[t._v(t._s(t.repairCount)+" 次")])])]),s("div",{staticClass:"content"},[s("p",[t._v("商品销量（月）")]),s("el-row",[t._l(t.skuCollect,(function(e,n){return s("el-col",{key:n,attrs:{span:6}},[s("span",{staticClass:"projectName",attrs:{title:e.skuName}},[t._v(" "+t._s(e.skuName))]),t._v(" ："+t._s(e.count))])})),0===t.skuCollect.length?s("el-col",{staticStyle:{border:"unset"}},[s("p",[t._v("当前设备未销售商品")])]):t._e()],2)],1)])]),s("FooterPage",{attrs:{taskList:t.vmList,listIsShow:!t.vmList.totalCount,lastDisabled:t.lastDisabled,rightDisabled:t.rightDisabled},on:{lastPage:t.lastPage,nextPage:t.nextPage}})],1)],1)},a=[],o=s("5530"),i=s("c7eb"),l=s("1da1"),c=(s("b680"),s("5c57")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.vmList.currentPageRecords,"tooltip-effect":"dark"}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),s("el-table-column",{attrs:{prop:"innerCode",label:"设备编号"}}),s("el-table-column",{attrs:{prop:"type.name",label:"设备型号"}}),s("el-table-column",{attrs:{prop:"node.addr",formatter:t.vmAddr,"show-overflow-tooltip":"",label:"详细地址"}}),s("el-table-column",{attrs:{prop:"vmStatus",formatter:t.vmStatus,label:"运营状态"}}),s("el-table-column",{attrs:{label:"设备状态",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.$index;return[s("div",{staticStyle:{display:"flex"}},[s("Mytag",{attrs:{color:t.vmList.currentPageRecords[n].status["10001"]?"#48d598":"#ffb53a"}},[t._v("离线")]),s("Mytag",{attrs:{color:t.vmList.currentPageRecords[n].status["10002"]?"#48d598":"#ffb53a"}},[t._v("货道")]),s("Mytag",{attrs:{color:t.vmList.currentPageRecords[n].status["10003"]?"#48d598":"#ffb53a"}},[t._v("轴传动")])],1)]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.$index;return[s("span",{staticClass:"tb-span",on:{click:function(e){return t.checkDetails(n)}}},[t._v("查看详情")])]}}])})],1)},u=[],d=(s("ac1f"),s("1276"),s("2f62")),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tag",style:{backgroundColor:t.color}},[s("span",{staticClass:"text"},[t._t("default")],2)])},p=[],b={props:{color:{type:String,default:"#ccc"}}},m=b,h=(s("a5f6"),s("2877")),g=Object(h["a"])(m,f,p,!1,null,"569f909f",null),v=g.exports,y={props:["businessIsShow"],methods:Object(o["a"])(Object(o["a"])({},Object(d["b"])("vm",["getorderCount","getorderAmount","getsupplyCount","getrepairCount","getskuCollect"])),{},{vmStatus:function(t,e,s){return 0===s?"未投放":1===s?"运营":3===s?"撤机":void 0},vmAddr:function(t,e,s){return s.split("-")[3]?s.split("-")[3]:s},checkDetails:function(t){var e=this.vmList.currentPageRecords[t].innerCode;this.getskuCollect(e),this.getorderCount(e),this.getorderAmount(e),this.getsupplyCount(e),this.getrepairCount(e),this.$emit("update:businessIsShow",!0)}}),computed:Object(o["a"])({},Object(d["e"])("vm",["vmList"])),components:{Mytag:v}},_=y,S=(s("d66d"),Object(h["a"])(_,r,u,!1,null,"47296a52",null)),k=S.exports,B=s("3d7a"),w=s("9039"),C={name:"",data:function(){return{loading:!1,businessIsShow:!1}},components:{SearchBar:c["a"],vmTable:k,FooterPage:B["a"],Dialog:w["a"]},created:function(){this.getVmList()},methods:{getVmList:function(t){var e=this;return Object(l["a"])(Object(i["a"])().mark((function s(){return Object(i["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.loading=!0,s.next=3,e.$store.dispatch("vm/getVmList",t);case 3:e.loading=!1;case 4:case"end":return s.stop()}}),s)})))()},searchBtn:function(t){this.loading||this.getVmList({innerCode:t})},closeDialog:function(){this.businessIsShow=!1},lastPage:function(){this.loading||this.getVmList({pageIndex:this.vmList.pageIndex-1})},nextPage:function(){this.loading||this.getVmList({pageIndex:this.vmList.pageIndex-0+1})}},computed:Object(o["a"])(Object(o["a"])({},Object(d["e"])("vm",["vmList","orderCount","orderAmount","supplyCount","repairCount","skuCollect"])),{},{myorderAmount:function(){var t=this.orderAmount/100;return t>1e4?(t/1e4).toFixed(2)+"万":t},lastDisabled:function(){return this.vmList.pageIndex<="1"},rightDisabled:function(){return this.vmList.pageIndex>=this.vmList.totalPage}})},I=C,x=(s("ae29"),Object(h["a"])(I,n,a,!1,null,"c0a57bb6",null));e["default"]=x.exports},ae29:function(t,e,s){"use strict";s("eb2b")},d66d:function(t,e,s){"use strict";s("a67d")},e77c:function(t,e,s){},eb2b:function(t,e,s){}}]);